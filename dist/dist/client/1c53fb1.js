(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{424:function(e,t,r){var content=r(451);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("53aaa8ea",content,!0,{sourceMap:!1})},450:function(e,t,r){"use strict";r(424)},451:function(e,t,r){(t=r(15)(!1)).push([e.i,'.login[data-v-19d98aef]{position:absolute;top:50%;right:15%;transform:translateY(-50%);width:330px;padding:50px;color:#fff}.login[data-v-19d98aef]:before{content:"";position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;background-color:rgba(0,0,0,.8);box-sizing:border-box;box-shadow:0 15px 25px rgba(0,0,0,.5);border-radius:10px}.login-title[data-v-19d98aef]{margin-bottom:30px}.login-btn[data-v-19d98aef]{margin-top:30px}',""]),e.exports=t},478:function(e,t,r){"use strict";r.r(t);r(21),r(17);var o=r(3),n={layout:"login",data:function(){return{userForm:{name:"root",pass:"123456"},rules:{name:[{required:!0,message:"请输入用户名/邮箱/手机",trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},fetch:function(){this.$store.commit("setUserMenu",[])},mounted:function(){this.$localForage.removeItem("user"),window.addEventListener("keydown",this.keyDown)},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)},methods:{submitForm:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$refs[e].validate();case 2:if(!r.sent){r.next=18;break}return r.next=6,t.$axios.$post("/api/admin/user/login",{name:t.userForm.name,password:t.userForm.pass});case 6:if(!(o=r.sent).success){r.next=15;break}return r.next=10,t.$localForage.setItem("user",o.data);case 10:t.$store.commit("setUser",o.data),t.$notify({title:"欢迎您，".concat(o.data.name),duration:1500,offset:70}),t.$router.push(t.localePath("/")),r.next=16;break;case 15:t.$message({showClose:!0,message:"".concat(o.message),type:"error"});case 16:r.next=19;break;case 18:return r.abrupt("return",!1);case 19:case"end":return r.stop()}}),r)})))()},keyDown:function(e){13==e.keyCode&&this.submitForm("userForm")}}},l=(r(450),r(14)),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"userForm",staticClass:"login",attrs:{model:e.userForm,"status-icon":"",rules:e.rules,"label-width":"80px"}},[r("h3",{staticClass:"login-title"},[e._v("yobo "+e._s(e.$t("login.title")))]),e._v(" "),r("el-form-item",{staticClass:"login-item",attrs:{label:e.$t("login.name"),prop:"name"}},[r("el-input",{attrs:{placeholder:e.$t("form.placeholder",{msg:e.$t("user.name")+"/"+e.$t("user.email")})},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),e._v(" "),r("el-form-item",{staticClass:"login-item",attrs:{label:e.$t("login.pass"),prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.userForm.pass,callback:function(t){e.$set(e.userForm,"pass",t)},expression:"userForm.pass"}})],1),e._v(" "),r("el-button",{staticClass:"login-btn",on:{click:function(t){return e.submitForm("userForm")}}},[e._v(e._s(e.$t("login.login")))])],1)}),[],!1,null,"19d98aef",null);t.default=component.exports}}]);