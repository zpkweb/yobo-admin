(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{407:function(e,t,o){var content=o(424);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(29).default)("4072167a",content,!0,{sourceMap:!1})},423:function(e,t,o){"use strict";o(407)},424:function(e,t,o){(t=o(28)(!1)).push([e.i,'.login[data-v-6ca2bd32]{position:absolute;top:50%;right:15%;transform:translateY(-50%);width:330px;padding:50px;color:#fff}.login[data-v-6ca2bd32]:before{content:"";position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;background-color:rgba(0,0,0,.8);box-sizing:border-box;box-shadow:0 15px 25px rgba(0,0,0,.5);border-radius:10px}.login-title[data-v-6ca2bd32]{margin-bottom:30px}.login-btn[data-v-6ca2bd32]{margin-top:30px}',""]),e.exports=t},446:function(e,t,o){"use strict";o.r(t);o(19),o(15);var r=o(3),n={layout:"login",data:function(){return{userForm:{name:"root",pass:"123456"},rules:{name:[{required:!0,message:"请输入用户名/邮箱/手机",trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},fetch:function(){this.$store.commit("setUserMenu",[])},mounted:function(){this.$localForage.removeItem("user"),window.addEventListener("keydown",this.keyDown)},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)},methods:{submitForm:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.$refs[e].validate();case 2:if(!o.sent){o.next=19;break}return o.next=6,t.$axios.$post("/api/admin/user/login",{name:t.userForm.name,password:t.userForm.pass});case 6:if(!(r=o.sent).success){o.next=16;break}return console.log("login",r.data),o.next=11,t.$localForage.setItem("user",r.data);case 11:t.$store.commit("setUser",r.data),t.$notify({title:"欢迎您，".concat(r.data.name),duration:1500,offset:70}),t.$router.push(t.localePath("/")),o.next=17;break;case 16:t.$message({showClose:!0,message:"".concat(r.message),type:"error"});case 17:o.next=21;break;case 19:return console.log("error submit!!"),o.abrupt("return",!1);case 21:case"end":return o.stop()}}),o)})))()},keyDown:function(e){13==e.keyCode&&this.submitForm("userForm")}}},l=(o(423),o(14)),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{ref:"userForm",staticClass:"login",attrs:{model:e.userForm,"status-icon":"",rules:e.rules,"label-width":"80px"}},[o("h3",{staticClass:"login-title"},[e._v("yobo "+e._s(e.$t("login.title"))+"!!!")]),e._v(" "),o("el-form-item",{staticClass:"login-item",attrs:{label:e.$t("login.name"),prop:"name"}},[o("el-input",{attrs:{placeholder:e.$t("form.placeholder",{msg:e.$t("user.name")+"/"+e.$t("user.email")})},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),e._v(" "),o("el-form-item",{staticClass:"login-item",attrs:{label:e.$t("login.pass"),prop:"pass"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.userForm.pass,callback:function(t){e.$set(e.userForm,"pass",t)},expression:"userForm.pass"}})],1),e._v(" "),o("el-button",{staticClass:"login-btn",on:{click:function(t){return e.submitForm("userForm")}}},[e._v(e._s(e.$t("login.login")))])],1)}),[],!1,null,"6ca2bd32",null);t.default=component.exports}}]);