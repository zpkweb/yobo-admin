(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{409:function(e,t,o){"use strict";var n=o(4),r=o(163),c=o(64),l=o(18),d=o(34),m=o(164),f=o(108),h=o(81),v=o(26),$=h("splice"),j=v("splice",{ACCESSORS:!0,0:0,1:2}),x=Math.max,k=Math.min;n({target:"Array",proto:!0,forced:!$||!j},{splice:function(e,t){var o,n,h,v,$,j,y=d(this),C=l(y.length),_=r(e,C),E=arguments.length;if(0===E?o=n=0:1===E?(o=0,n=C-_):(o=E-2,n=k(x(c(t),0),C-_)),C+o-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(h=m(y,n),v=0;v<n;v++)($=_+v)in y&&f(h,v,y[$]);if(h.length=n,o<n){for(v=_;v<C-n;v++)j=v+o,($=v+n)in y?y[j]=y[$]:delete y[j];for(v=C;v>C-n+o;v--)delete y[v-1]}else if(o>n)for(v=C-n;v>_;v--)j=v+o-1,($=v+n-1)in y?y[j]=y[$]:delete y[j];for(v=0;v<o;v++)y[v+_]=arguments[v+2];return y.length=C-n+o,h}})},424:function(e,t,o){var content=o(455);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(16).default)("4a425d72",content,!0,{sourceMap:!1})},425:function(e,t,o){var content=o(457);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(16).default)("1cf5fea6",content,!0,{sourceMap:!1})},454:function(e,t,o){"use strict";o(424)},455:function(e,t,o){(t=o(15)(!1)).push([e.i,".quill-editor[data-v-072b9a5a]{height:120px}",""]),e.exports=t},456:function(e,t,o){"use strict";o(425)},457:function(e,t,o){(t=o(15)(!1)).push([e.i,".el-upload--picture-card[data-v-072b9a5a],.el-upload-list--picture-card .el-upload-list__item[data-v-072b9a5a]{width:192px;height:100px;line-height:100px;text-align:center}.photo[data-v-072b9a5a]{width:192px;height:100px}.commodity-photo-dialog .el-dialog[data-v-072b9a5a]{width:818px}.box-card[data-v-072b9a5a]{margin:20px}.video-photo-uploader-icon[data-v-072b9a5a]{font-size:28px;color:#8c939d;width:239px;height:100px;line-height:100px;text-align:center}.video-photo[data-v-072b9a5a]{width:239px;height:100px;display:block}",""]),e.exports=t},480:function(e,t,o){"use strict";o.r(t);o(46),o(409),o(21),o(17);var n=o(3),r=o(414),c=o.n(r),l={props:["dialogVideoData"],data:function(){return{form:this.dialogVideoData,isCreate:!this.dialogVideoData.videoId,isSubmit:!1,editVideoIndex:null,activeCollapses:["0","1","2","3","4"],editorOptionZhcn:{placeholder:this.$t("form.placeholder",{msg:"".concat(this.$t("lang.zh")).concat(this.$t("content.desc"))}),modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"]]}},editorOptionEnus:{placeholder:this.$t("form.placeholder",{msg:"".concat(this.$t("lang.en")).concat(this.$t("content.desc"))}),modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"]]}},editorOptionJajp:{placeholder:this.$t("form.placeholder",{msg:"".concat(this.$t("lang.ja")).concat(this.$t("content.desc"))}),modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"]]}},editorOptionEses:{placeholder:this.$t("form.placeholder",{msg:"".concat(this.$t("lang.es")).concat(this.$t("content.desc"))}),modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"]]}}}},fetch:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},created:function(){this.form=this.dialogVideoData,console.log("created this.dialogVideoData",this.form)},updated:function(){console.log("updated this.dialogVideoData")},destroyed:function(){console.log("destroyed this.dialogVideoData"),this.form={}},methods:{onSubmitCreate:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(o){var data,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=8;break}return t.isSubmit=!0,t.form.desc&&(t.form.desc["zh-cn"]||t.form.desc["en-us"]||t.form.desc["ja-jp"]||t.form.desc["es-es"])&&(n=JSON.stringify({"zh-cn":t.form.desc["zh-cn"],"en-us":t.form.desc["en-us"],"ja-jp":t.form.desc["ja-jp"],"es-es":t.form.desc["es-es"]})),e.next=5,t.$axios.$post("/api/admin/information/video",{isTop:t.form.isTop,"zh-cn":t.form.name["zh-cn"],"en-us":t.form.name["en-us"],"ja-jp":t.form.name["ja-jp"],"es-es":t.form.name["es-es"],ccId:t.form.ccId,siteId:t.form.siteId,videoPhoto:t.form.videoPhoto,detail:n}).catch((function(e){t.isSubmit=!1,t.$message({showClose:!0,message:"".concat(t.$t("content.create")).concat(t.$t("content.fail"),"! ").concat(e.response.data.message),type:"error"})}));case 5:data=e.sent,t.isSubmit=!1,data.success?(t.$message({showClose:!0,message:"".concat(t.$t("content.create")).concat(t.$t("content.success")),type:"success"}),t.$emit("createDialogVideo",data.data)):t.$message({showClose:!0,message:"".concat(t.$t("content.create")).concat(t.$t("content.fail"),"!").concat(data.message),type:"error"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onSubmitUpdate:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(o){var data,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=8;break}return t.isSubmit=!0,t.form.desc&&(t.form.desc.id||t.form.desc["zh-cn"]||t.form.desc["en-us"]||t.form.desc["ja-jp"]||t.form.desc["es-es"])&&(n=JSON.stringify({id:t.form.desc.id,"zh-cn":t.form.desc["zh-cn"],"en-us":t.form.desc["en-us"],"ja-jp":t.form.desc["ja-jp"],"es-es":t.form.desc["es-es"]})),e.next=5,t.$axios.$post("/api/admin/information/video/update",{id:t.form.id,isTop:t.form.isTop,videoId:t.form.videoId,"zh-cn":t.form.name["zh-cn"],"en-us":t.form.name["en-us"],"ja-jp":t.form.name["ja-jp"],"es-es":t.form.name["es-es"],ccId:t.form.ccId,siteId:t.form.siteId,videoPhoto:t.form.videoPhoto,detail:n}).catch((function(e){t.isSubmit=!1,t.$message({showClose:!0,message:"".concat(t.$t("content.update")).concat(t.$t("content.fail"),"! ").concat(e.response.data.message),type:"error"})}));case 5:data=e.sent,t.isSubmit=!1,data.success?(t.$message({showClose:!0,message:"".concat(t.$t("content.update")).concat(t.$t("content.success")),type:"success"}),t.$emit("editDialogVideo",{id:t.form.id,videoId:t.form.videoId,"zh-cn":t.form.name["zh-cn"],"en-us":t.form.name["en-us"],"ja-jp":t.form.name["ja-jp"],"es-es":t.form.name["es-es"],ccId:t.form.ccId,siteId:t.form.siteId,videoPhoto:t.form.videoPhoto,detail:{id:t.form.desc.id,"zh-cn":t.form.desc["zh-cn"],"en-us":t.form.desc["en-us"],"ja-jp":t.form.desc["ja-jp"],"es-es":t.form.desc["es-es"]}})):t.$message({showClose:!0,message:"".concat(t.$t("content.update")).concat(t.$t("content.fail"),"!").concat(data.message),type:"error"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},reset:function(){this.form={isTop:!1,name:{id:"","zh-cn":"","en-us":"","ja-jp":"","es-es":""},desc:{id:"","zh-cn":"","en-us":"","ja-jp":"","es-es":""},videos:[],removeVideos:[]}},onMock:function(){var e={isTop:!1,id:"",videoId:"",video:"",ccId:"",siteId:"",videoPhoto:"",name:{"zh-cn":c.a.mock("@ctitle(2, 8)"),"en-us":c.a.mock("@title(2)"),"ja-jp":"ゼロ,いち,に,さん,し,ご,ろく,しち,はち,きゅう,じゅう","es-es":"zéro,un,deux,trois,quatre,cinq,six,sept,huit,neuf,dix"},desc:{"zh-cn":c.a.mock("@cparagraph(1,3)"),"en-us":c.a.mock("@paragraph(1,3)"),"ja-jp":"ゼロ,いち,に,さん,し,ご,ろく,しち,はち,きゅう,じゅう","es-es":"zéro,un,deux,trois,quatre,cinq,six,sept,huit,neuf,dix"},videos:[],removeVideos:[]};this.form=e},resetForm:function(e){this.reset(),this.$refs[e].clearValidate()},handleVideoPhotoSuccess:function(e,t){this.form.videoPhoto=e.data.src},onEditorChangeZhcn:function(e,t){e.editor;var html=e.html;e.text;this.form.desc["zh-cn"]=html},onEditorChangeEnus:function(e,t){e.editor;var html=e.html;e.text;this.form.desc["en-us"]=html},onEditorChangeJajp:function(e,t){e.editor;var html=e.html;e.text;this.form.desc["ja-jp"]=html},onEditorChangeEses:function(e,t){e.editor;var html=e.html;e.text;this.form.desc["es-es"]=html},beforeUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传的图片大小不能超过 2MB!"),t},commodityRemoveVideo:function(e){this.form.videos[e].id&&this.form.removeVideos.push(Object.assign({},this.form.videos[e])),this.form.videos.splice(e,1)}}},d=(o(454),o(456),o(14)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"video"},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"108px"}},[o("el-form-item",[e.isCreate?o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",loading:e.isSubmit},on:{click:function(t){return e.onSubmitCreate("form")}}},[e._v("\n        "+e._s(e.$t("content.create"))+"\n      ")]):o("el-button",{attrs:{type:"primary",icon:"el-icon-check",loading:e.isSubmit},on:{click:function(t){return e.onSubmitUpdate("form")}}},[e._v("\n        "+e._s(e.$t("content.update"))+"\n      ")]),e._v(" "),e.isCreate?o("el-button",{attrs:{icon:"el-icon-check"},on:{click:e.onMock}},[e._v("\n        "+e._s(e.$t("content.fill"))+"\n      ")]):e._e(),e._v(" "),o("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(t){return e.resetForm("form")}}},[e._v(e._s(e.$t("content.clear")))])],1),e._v(" "),o("el-collapse",{model:{value:e.activeCollapses,callback:function(t){e.activeCollapses=t},expression:"activeCollapses"}},[o("el-collapse-item",{attrs:{title:"视频标题 ",name:"0"}},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("langname",{lang:e.$t("lang.zh"),name:e.$t("content.title")}),prop:"name.zh-cn",rules:{required:!0,message:""+e.$t("lang.zh")+e.$t("content.title")+e.$t("form.noEmpty"),trigger:"blur"}}},[o("el-input",{attrs:{placeholder:e.$t("form.placeholder",{msg:""+e.$t("lang.zh")+e.$t("content.title")})},model:{value:e.form.name["zh-cn"],callback:function(t){e.$set(e.form.name,"zh-cn",t)},expression:"form.name['zh-cn']"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("langname",{lang:e.$t("lang.en"),name:e.$t("content.title")}),prop:"name.en-us",rules:{required:!0,message:""+e.$t("lang.en")+e.$t("content.title")+e.$t("form.noEmpty"),trigger:"blur"}}},[o("el-input",{attrs:{placeholder:e.$t("form.placeholder",{msg:""+e.$t("lang.en")+e.$t("content.title")})},model:{value:e.form.name["en-us"],callback:function(t){e.$set(e.form.name,"en-us",t)},expression:"form.name['en-us']"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("langname",{lang:e.$t("lang.ja"),name:e.$t("content.title")}),prop:"name.ja-jp",rules:{required:!0,message:""+e.$t("lang.ja")+e.$t("content.title")+e.$t("form.noEmpty"),trigger:"blur"}}},[o("el-input",{attrs:{placeholder:e.$t("form.placeholder",{msg:""+e.$t("lang.ja")+e.$t("content.title")})},model:{value:e.form.name["ja-jp"],callback:function(t){e.$set(e.form.name,"ja-jp",t)},expression:"form.name['ja-jp']"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:e.$t("langname",{lang:e.$t("lang.es"),name:e.$t("content.title")}),prop:"name.es-es",rules:{required:!0,message:""+e.$t("lang.es")+e.$t("content.title")+e.$t("form.noEmpty"),trigger:"blur"}}},[o("el-input",{attrs:{placeholder:e.$t("form.placeholder",{msg:""+e.$t("lang.es")+e.$t("content.title")})},model:{value:e.form.name["es-es"],callback:function(t){e.$set(e.form.name,"es-es",t)},expression:"form.name['es-es']"}})],1)],1)],1)],1),e._v(" "),o("el-collapse-item",{attrs:{title:"视频内容 ",name:"1"}},[o("el-form-item",{staticClass:"text item",attrs:{label:e.$t("commodity.isTop")}},[o("el-switch",{model:{value:e.form.isTop,callback:function(t){e.$set(e.form,"isTop",t)},expression:"form.isTop"}})],1),e._v(" "),o("el-form-item",{staticClass:"text item",attrs:{label:e.$t("commodity.ccId")}},[o("el-input",{attrs:{placeholder:e.$t("form.placeholder",{msg:e.$t("commodity.ccId")})},model:{value:e.form.ccId,callback:function(t){e.$set(e.form,"ccId",t)},expression:"form.ccId"}}),e._v(" "),o("div",{staticClass:"el-upload__tip"},[e._v("\n            ccId  示例：61AA76B5334118229C33DC5901307461\n          ")])],1),e._v(" "),o("el-form-item",{staticClass:"text item",attrs:{label:e.$t("commodity.siteId")}},[o("el-input",{attrs:{placeholder:e.$t("form.placeholder",{msg:e.$t("commodity.siteId")})},model:{value:e.form.siteId,callback:function(t){e.$set(e.form,"siteId",t)},expression:"form.siteId"}}),e._v(" "),o("div",{staticClass:"el-upload__tip"},[e._v("\n            siteId 示例：E5DD260925A6084B\n          ")])],1),e._v(" "),o("el-form-item",{staticClass:"text item",attrs:{label:e.$t("commodity.videoPhoto")}},[o("el-upload",{staticClass:"banner-uploader",attrs:{action:e.$config.origin+"/api/upload/images",data:{type:"sellerStudioVideoImg"},"show-file-list":!1,"on-success":e.handleVideoPhotoSuccess,"before-upload":e.beforeUpload},model:{value:e.form.videoPhoto,callback:function(t){e.$set(e.form,"videoPhoto",t)},expression:"form.videoPhoto"}},[e.form&&e.form.videoPhoto?o("img",{staticClass:"video-photo",attrs:{src:e.form.videoPhoto}}):o("i",{staticClass:"el-icon-plus video-photo-uploader-icon"}),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n              视频封面图片，请上传 210X105 比例的图片，且不超过2M\n            ")])])],1)],1),e._v(" "),o("el-collapse-item",{attrs:{title:"视频描述 ",name:"2"}},[o("el-form-item",{attrs:{label:e.$t("langname",{lang:e.$t("lang.zh"),name:e.$t("commodity.desc")}),prop:"desc.zh-cn"}},[o("div",{directives:[{name:"quill",rawName:"v-quill:myQuillEditorZhcn",value:{placeholder:e.$t("form.placeholder",{msg:""+e.$t("lang.zh")+e.$t("content.desc")}),modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"]]}},expression:"{\n              placeholder: $t('form.placeholder', {\n                msg: `${$t('lang.zh')}${$t('content.desc')}`,\n              }),\n              // some quill options\n              modules: {\n                toolbar: [\n                  ['bold', 'italic', 'underline', 'strike'],\n                  ['blockquote', 'code-block'],\n                ],\n              },\n            }",arg:"myQuillEditorZhcn"}],staticClass:"quill-editor",attrs:{content:e.form.desc["zh-cn"]},on:{change:function(t){return e.onEditorChangeZhcn(t,"zhcn")}}})]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("langname",{lang:e.$t("lang.en"),name:e.$t("commodity.desc")}),prop:"desc.en-us"}},[o("div",{directives:[{name:"quill",rawName:"v-quill:myQuillEditorEnus",value:e.editorOptionEnus,expression:"editorOptionEnus",arg:"myQuillEditorEnus"}],staticClass:"quill-editor",attrs:{content:e.form.desc["en-us"]},on:{change:function(t){return e.onEditorChangeEnus(t,"enus")}}})]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("langname",{lang:e.$t("lang.ja"),name:e.$t("commodity.desc")}),prop:"desc.ja-jp"}},[o("div",{directives:[{name:"quill",rawName:"v-quill:myQuillEditorJajp",value:e.editorOptionJajp,expression:"editorOptionJajp",arg:"myQuillEditorJajp"}],staticClass:"quill-editor",attrs:{content:e.form.desc["ja-jp"]},on:{change:function(t){return e.onEditorChangeJajp(t,"jajp")}}})]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("langname",{lang:e.$t("lang.es"),name:e.$t("commodity.desc")}),prop:"desc.es-es"}},[o("div",{directives:[{name:"quill",rawName:"v-quill:myQuillEditorEses",value:e.editorOptionEses,expression:"editorOptionEses",arg:"myQuillEditorEses"}],staticClass:"quill-editor",attrs:{content:e.form.desc["es-es"]},on:{change:function(t){return e.onEditorChangeEses(t,"eses")}}})])],1)],1)],1)],1)}),[],!1,null,"072b9a5a",null);t.default=component.exports}}]);